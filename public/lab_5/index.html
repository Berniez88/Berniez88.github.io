<!DOCTYPE html>
<html lang ="en-us">
    <head>
        <title>Bernie Zhong Lab 4</title>
        <meta charset="utf-8">
        <link href="styles.css" rel="stylesheet">
    </head>
    <body>
    <div class="wrapper">
    <div class="container">
        <div class = "header"><h1>Bernie Zhong Lab 4</h1></div>
        <form action="/api" method = "post">
            <ul class="flex-outer">
                <li>
                    <label for="fname">First Name</label>
                    <input name="fname" type="text" id="fname" >
                </li>
                <li>
                    <label for="lname">Last Name</label>
                    <input name ="lname" type="text" id="lname" >
                </li>
                <li>
                    <label for="email">Email</label>
                    <input name="email" type="email" id="email">
                </li>
                <li>
                    <label for="phone">Phone</label>
                    <input name="phone" type="tel" id="phone">
                </li>
                <li>
                    <label for="message">Text File</label>
                    <textarea name= "message" rows="5" cols="33" id="message" placeholder="This is some default message text"></textarea>
                </li>
                <li> 
                    <p class = "checkbox-list-label">Age</p>
                    <ul class="flex-inner">
                        <li>
                            <input name="age1" type="checkbox" id="age1">
                            <label for="age1">18-35</label>
                        </li>
                        <li>
                            <input name="age2" type="checkbox" id="age2">
                            <label for="age2">35-50</label>
                        </li>
                        <li>
                            <input name="age3" type="checkbox" id="age3">
                            <label for="age3">50-65</label>
                        </li>
                    </ul>
                </li>
                <li>
                    <button name="submit" type="submit" id="submit">Submit Form</button>
                    <button  onclick= "testFunction()" id = "active_button" name = "active_button" type="button">Activate</button>
                </li>
                
            </ul>
        </form>  
    </div>
</div>
<script>
    function testFunction() {
     fetch('/api')
     .then((response) => response.text())
     .then((response) => {
          console.log(response);
          const header = document.querySelector(".header h1");
          header.textContent = "Lab 5 for Bernie Zhong";
          
          const background = document.querySelector("body");
          document.body.style.backgroundColor = "purple";
          const fruits = document.querySelector(".checkbox-list-label")
          fruits.textContent = "Fruits";

          const elements = document.querySelectorAll(".flex-inner label")
          const fruitArray = ["kiwi", "dragonfruit", "pomelo"]
          elements.forEach((el, i) => {
              el.innerText = fruitArray[i];
          })

          const center = document.querySelector(".flex-outer");
          center.style.margin = "0 auto";
     })
}
</script>
</body>
</html>
